{% extends 'base.html' %}
{% load i18n staticfiles %}

{% block content %}

<div class="row">
    <div class="col-md-6 col-md-offset-3">
        {% if error %}
            <div>Error: {{ error }}</div>
        {% endif %}
        {% if revoked_client %}
            <div>Successfully revoked consent for client "{{ revoked_client }}".</div>
        {% endif %}
        <table>
            <thead>
                <tr><td>Client name</td><td>Authorized scopes</td><td>Expiration date</td><td></td></tr>
            </thead>
            <tbody>
            {% for consent in consents %}
            <tr>
                <td>{{ consent.client.name }}</td>
                <td>{{ consent.scope }}</td>
                <td>{{ consent.expires_at }}</td>
                <td>
                    <form action="{{ request.path }}" method="POST">
                        {% csrf_token %}
                        <input type="hidden" name="revoke" value="{{ consent.client.client_id }}" />
                        <input type="submit" value="Revoke" />
                    </form>
                </td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
</div>

{% endblock %}
